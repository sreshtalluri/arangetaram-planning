---
phase: 05-inquiry-connection
plan: 05
type: execute
wave: 3
depends_on: ["05-03", "05-04"]
files_modified:
  - frontend/src/components/dashboard/MyInquiriesList.jsx
  - frontend/src/pages/UserDashboard.jsx
autonomous: true

must_haves:
  truths:
    - "User can view list of sent inquiries on dashboard"
    - "Inquiries show status (pending/accepted/declined)"
    - "Accepted inquiries reveal vendor contact info"
    - "Empty state shown when no inquiries"
  artifacts:
    - path: "frontend/src/components/dashboard/MyInquiriesList.jsx"
      provides: "User's inquiry list component"
      min_lines: 40
    - path: "frontend/src/pages/UserDashboard.jsx"
      provides: "Dashboard with My Inquiries section"
      contains: "MyInquiriesList"
  key_links:
    - from: "UserDashboard.jsx"
      to: "MyInquiriesList.jsx"
      via: "import"
    - from: "MyInquiriesList.jsx"
      to: "useInquiries.ts"
      via: "useUserInquiries"
---

<objective>
Add "My Inquiries" section to User Dashboard.

Purpose: Let users track status of sent inquiries and access vendor contact after acceptance
Output: UserDashboard with My Inquiries section showing all sent inquiries
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/05-inquiry-connection/05-CONTEXT.md

Files to reference:
@frontend/src/pages/UserDashboard.jsx
@frontend/src/components/dashboard/SavedVendorsList.jsx (for pattern)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create MyInquiriesList component</name>
  <files>frontend/src/components/dashboard/MyInquiriesList.jsx</files>
  <action>
Create user inquiries list component for dashboard.

```jsx
import { useUserInquiries, useMarkInquiryRead } from '../../hooks/useInquiries'
import { InquiryCard } from '../inquiry/InquiryCard'
import { Loader2, Send } from 'lucide-react'
import { useEffect } from 'react'

export function MyInquiriesList({ userId }) {
  const { data: inquiries = [], isLoading } = useUserInquiries(userId)
  const markRead = useMarkInquiryRead('user')

  // Mark inquiries with responses as read when viewing
  useEffect(() => {
    const unreadWithResponse = inquiries.filter(
      i => i.status !== 'pending' && !i.user_read_at
    )
    unreadWithResponse.forEach(inquiry => {
      markRead.mutate(inquiry.id)
    })
  }, [inquiries])

  if (isLoading) {
    return (
      <div className="flex items-center justify-center py-8">
        <Loader2 className="w-6 h-6 animate-spin text-[#0F4C5C]" />
      </div>
    )
  }

  if (inquiries.length === 0) {
    return (
      <div className="bg-white rounded-xl p-8 shadow-sm text-center">
        <div className="w-12 h-12 rounded-full bg-[#F9F8F4] flex items-center justify-center mx-auto mb-3">
          <Send className="w-6 h-6 text-[#888888]" />
        </div>
        <h3 className="font-medium text-[#1A1A1A] mb-1">No inquiries yet</h3>
        <p className="text-sm text-[#888888]">
          Browse vendors and send inquiries to get started.
        </p>
      </div>
    )
  }

  return (
    <div className="space-y-4">
      {inquiries.map((inquiry) => (
        <InquiryCard
          key={inquiry.id}
          inquiry={inquiry}
          view="user"
        />
      ))}
    </div>
  )
}
```
  </action>
  <verify>Component renders list of inquiries with proper empty state</verify>
  <done>MyInquiriesList fetches and displays user inquiries with loading and empty states</done>
</task>

<task type="auto">
  <name>Task 2: Add My Inquiries section to UserDashboard</name>
  <files>frontend/src/pages/UserDashboard.jsx</files>
  <action>
Add "My Inquiries" section to the UserDashboard.

Changes:
1. Import MyInquiriesList:
```jsx
import { MyInquiriesList } from "../components/dashboard/MyInquiriesList"
```

2. Add MessageSquare icon to imports:
```jsx
import {
  Calendar, Plus, Loader2, Search, ArrowRight, Sparkles, MessageSquare
} from "lucide-react";
```

3. Add "My Inquiries" section after "Saved Vendors" section in the right column (before Quick Actions):

```jsx
{/* My Inquiries Section */}
<section>
  <div className="flex items-center justify-between mb-4">
    <h2 className="text-xl font-semibold text-[#1A1A1A]">
      My Inquiries
    </h2>
  </div>
  <MyInquiriesList userId={user?.id} />
</section>
```

The right column structure should be:
1. Saved Vendors
2. My Inquiries (NEW)
3. Quick Actions
  </action>
  <verify>
Check: UserDashboard renders without errors
Check: My Inquiries section appears in right column
Check: Inquiries list shows with proper styling
  </verify>
  <done>UserDashboard includes My Inquiries section showing sent inquiries with status badges and contact reveal
  </done>
</task>

</tasks>

<verification>
- [ ] MyInquiriesList component exists
- [ ] UserDashboard imports and renders MyInquiriesList
- [ ] Inquiries display with InquiryCard
- [ ] Empty state shows when no inquiries
- [ ] Accepted inquiries show contact info via ContactReveal
</verification>

<success_criteria>
Users can view all sent inquiries on dashboard. Status is visible. Contact revealed after acceptance.
</success_criteria>

<output>
After completion, create `.planning/phases/05-inquiry-connection/05-05-SUMMARY.md`
</output>
